<template>
    <li class="server-info">
        <p contenteditable="">{{ name }}</p>
        <p>{{ baseDir }} </p>
        <p> localhost:{{ port }} </p>

        <button @click="start">
            <!-- <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" version="1.1">
                <g id="surface1">
                    <path style=" " d="M 8.898438 5.3125 C 8.386719 5.320313 7.882813 5.464844 7.425781 5.738281 C 6.507813 6.285156 5.960938 7.246094 5.960938 8.3125 L 5.960938 55.609375 C 5.960938 56.675781 6.507813 57.636719 7.421875 58.183594 C 7.902344 58.46875 8.429688 58.609375 8.960938 58.609375 C 9.445313 58.609375 9.9375 58.492188 10.386719 58.25 L 54.175781 34.601563 C 55.148438 34.078125 55.75 33.066406 55.75 31.960938 C 55.75 30.855469 55.148438 29.847656 54.175781 29.324219 L 10.386719 5.675781 C 9.917969 5.421875 9.40625 5.300781 8.898438 5.3125 Z M 8.964844 7.3125 C 9.105469 7.3125 9.269531 7.34375 9.4375 7.4375 L 10.566406 8.046875 C 10.210938 8.199219 9.960938 8.550781 9.960938 8.960938 C 9.960938 9.515625 10.410156 9.960938 10.960938 9.960938 L 12.960938 9.960938 C 13.21875 9.960938 13.449219 9.859375 13.625 9.695313 L 53.226563 31.082031 C 53.699219 31.339844 53.75 31.78125 53.75 31.960938 C 53.753906 32.140625 53.703125 32.585938 53.230469 32.84375 L 13.941406 54.054688 C 13.945313 54.023438 13.964844 53.996094 13.964844 53.964844 C 13.964844 53.410156 13.515625 52.964844 12.964844 52.964844 L 10.964844 52.964844 C 10.410156 52.964844 9.960938 53.410156 9.960938 53.964844 C 9.960938 54.515625 10.410156 54.964844 10.964844 54.964844 L 12.265625 54.964844 L 9.4375 56.488281 C 8.988281 56.730469 8.597656 56.554688 8.449219 56.46875 C 8.300781 56.378906 7.960938 56.121094 7.960938 55.609375 L 7.960938 8.3125 C 7.960938 7.800781 8.300781 7.542969 8.449219 7.453125 C 8.539063 7.398438 8.726563 7.3125 8.964844 7.3125 Z M 10.960938 12.964844 C 10.410156 12.964844 9.960938 13.410156 9.960938 13.964844 C 9.960938 14.515625 10.410156 14.964844 10.960938 14.964844 L 12.960938 14.964844 C 13.511719 14.964844 13.960938 14.515625 13.960938 13.964844 C 13.960938 13.410156 13.515625 12.964844 12.960938 12.964844 Z M 10.960938 17.964844 C 10.410156 17.964844 9.960938 18.410156 9.960938 18.964844 C 9.960938 19.515625 10.410156 19.964844 10.960938 19.964844 L 12.960938 19.964844 C 13.511719 19.964844 13.960938 19.515625 13.960938 18.964844 C 13.960938 18.410156 13.515625 17.964844 12.960938 17.964844 Z M 10.960938 22.964844 C 10.410156 22.964844 9.960938 23.410156 9.960938 23.964844 C 9.960938 24.515625 10.410156 24.964844 10.960938 24.964844 L 12.960938 24.964844 C 13.511719 24.964844 13.960938 24.515625 13.960938 23.964844 C 13.960938 23.410156 13.515625 22.964844 12.960938 22.964844 Z M 10.960938 27.964844 C 10.410156 27.964844 9.960938 28.410156 9.960938 28.964844 C 9.960938 29.515625 10.410156 29.964844 10.960938 29.964844 L 12.960938 29.964844 C 13.511719 29.964844 13.960938 29.515625 13.960938 28.964844 C 13.960938 28.410156 13.515625 27.964844 12.960938 27.964844 Z M 10.960938 32.964844 C 10.410156 32.964844 9.960938 33.410156 9.960938 33.964844 C 9.960938 34.515625 10.410156 34.964844 10.960938 34.964844 L 12.960938 34.964844 C 13.511719 34.964844 13.960938 34.515625 13.960938 33.964844 C 13.960938 33.410156 13.515625 32.964844 12.960938 32.964844 Z M 44.886719 32.964844 C 44.753906 32.972656 44.625 33.007813 44.503906 33.074219 L 41.605469 34.566406 C 41.113281 34.820313 40.921875 35.421875 41.171875 35.910156 C 41.351563 36.257813 41.699219 36.453125 42.0625 36.453125 C 42.214844 36.453125 42.375 36.417969 42.519531 36.34375 L 45.421875 34.851563 C 45.910156 34.597656 46.101563 33.996094 45.847656 33.503906 C 45.660156 33.136719 45.273438 32.933594 44.886719 32.964844 Z M 38.242188 36.386719 C 38.113281 36.394531 37.984375 36.429688 37.859375 36.496094 L 17.53125 46.96875 C 17.042969 47.21875 16.847656 47.824219 17.101563 48.3125 C 17.28125 48.660156 17.628906 48.855469 17.992188 48.855469 C 18.144531 48.855469 18.304688 48.820313 18.449219 48.746094 L 38.777344 38.273438 C 39.265625 38.019531 39.460938 37.417969 39.207031 36.925781 C 39.015625 36.558594 38.632813 36.355469 38.242188 36.386719 Z M 10.960938 37.964844 C 10.410156 37.964844 9.960938 38.410156 9.960938 38.964844 C 9.960938 39.515625 10.410156 39.964844 10.960938 39.964844 L 12.960938 39.964844 C 13.511719 39.964844 13.960938 39.515625 13.960938 38.964844 C 13.960938 38.410156 13.515625 37.964844 12.960938 37.964844 Z M 10.960938 42.964844 C 10.410156 42.964844 9.960938 43.410156 9.960938 43.964844 C 9.960938 44.515625 10.410156 44.964844 10.960938 44.964844 L 12.960938 44.964844 C 13.511719 44.964844 13.960938 44.515625 13.960938 43.964844 C 13.960938 43.410156 13.515625 42.964844 12.960938 42.964844 Z M 10.960938 47.964844 C 10.410156 47.964844 9.960938 48.410156 9.960938 48.964844 C 9.960938 49.515625 10.410156 49.964844 10.960938 49.964844 L 12.960938 49.964844 C 13.511719 49.964844 13.960938 49.515625 13.960938 48.964844 C 13.960938 48.410156 13.515625 47.964844 12.960938 47.964844 Z "></path>
                </g>
            </svg> -->
             <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 80 80" version="1.1">
                <g id="surface1">
                    <path style=" " d="M 17 7.222656 L 17 72.777344 L 18.519531 71.855469 L 70.925781 40 Z M 19 10.78125 L 67.074219 40 L 19 69.21875 Z M 22 16 C 21.449219 16 21 16.449219 21 17 C 21 17.550781 21.449219 18 22 18 C 22.550781 18 23 17.550781 23 17 C 23 16.449219 22.550781 16 22 16 Z M 27 19 C 26.449219 19 26 19.449219 26 20 C 26 20.550781 26.449219 21 27 21 C 27.550781 21 28 20.550781 28 20 C 28 19.449219 27.550781 19 27 19 Z M 22 20 C 21.449219 20 21 20.449219 21 21 C 21 21.550781 21.449219 22 22 22 C 22.550781 22 23 21.550781 23 21 C 23 20.449219 22.550781 20 22 20 Z M 32 22 C 31.449219 22 31 22.449219 31 23 C 31 23.550781 31.449219 24 32 24 C 32.550781 24 33 23.550781 33 23 C 33 22.449219 32.550781 22 32 22 Z M 22 24 C 21.449219 24 21 24.449219 21 25 C 21 25.550781 21.449219 26 22 26 C 22.550781 26 23 25.550781 23 25 C 23 24.449219 22.550781 24 22 24 Z M 37 25 C 36.449219 25 36 25.449219 36 26 C 36 26.550781 36.449219 27 37 27 C 37.550781 27 38 26.550781 38 26 C 38 25.449219 37.550781 25 37 25 Z M 22 28 C 21.449219 28 21 28.449219 21 29 C 21 29.550781 21.449219 30 22 30 C 22.550781 30 23 29.550781 23 29 C 23 28.449219 22.550781 28 22 28 Z M 42 28 C 41.449219 28 41 28.449219 41 29 C 41 29.550781 41.449219 30 42 30 C 42.550781 30 43 29.550781 43 29 C 43 28.449219 42.550781 28 42 28 Z M 47 31 C 46.449219 31 46 31.449219 46 32 C 46 32.550781 46.449219 33 47 33 C 47.550781 33 48 32.550781 48 32 C 48 31.449219 47.550781 31 47 31 Z M 22 32 C 21.449219 32 21 32.449219 21 33 C 21 33.550781 21.449219 34 22 34 C 22.550781 34 23 33.550781 23 33 C 23 32.449219 22.550781 32 22 32 Z M 52 34 C 51.449219 34 51 34.449219 51 35 C 51 35.550781 51.449219 36 52 36 C 52.550781 36 53 35.550781 53 35 C 53 34.449219 52.550781 34 52 34 Z M 22 36 C 21.449219 36 21 36.449219 21 37 C 21 37.550781 21.449219 38 22 38 C 22.550781 38 23 37.550781 23 37 C 23 36.449219 22.550781 36 22 36 Z M 57 37 C 56.449219 37 56 37.449219 56 38 C 56 38.550781 56.449219 39 57 39 C 57.550781 39 58 38.550781 58 38 C 58 37.449219 57.550781 37 57 37 Z M 22 40 C 21.449219 40 21 40.449219 21 41 C 21 41.550781 21.449219 42 22 42 C 22.550781 42 23 41.550781 23 41 C 23 40.449219 22.550781 40 22 40 Z M 22 44 C 21.449219 44 21 44.449219 21 45 C 21 45.550781 21.449219 46 22 46 C 22.550781 46 23 45.550781 23 45 C 23 44.449219 22.550781 44 22 44 Z M 22 48 C 21.449219 48 21 48.449219 21 49 C 21 49.550781 21.449219 50 22 50 C 22.550781 50 23 49.550781 23 49 C 23 48.449219 22.550781 48 22 48 Z M 22 52 C 21.449219 52 21 52.449219 21 53 C 21 53.550781 21.449219 54 22 54 C 22.550781 54 23 53.550781 23 53 C 23 52.449219 22.550781 52 22 52 Z M 22 56 C 21.449219 56 21 56.449219 21 57 C 21 57.550781 21.449219 58 22 58 C 22.550781 58 23 57.550781 23 57 C 23 56.449219 22.550781 56 22 56 Z M 22 60 C 21.449219 60 21 60.449219 21 61 C 21 61.550781 21.449219 62 22 62 C 22.550781 62 23 61.550781 23 61 C 23 60.449219 22.550781 60 22 60 Z "></path>
                </g>
            </svg>
        </button>
        <button @click="stop">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 80 80" version="1.1">
                <g id="surface1">
                    <path style=" " d="M 10 10 L 10 70 L 70 70 L 70 10 Z M 12 12 L 68 12 L 68 68 L 12 68 Z M 18 17 C 17.449219 17 17 17.449219 17 18 C 17 18.550781 17.449219 19 18 19 C 18.550781 19 19 18.550781 19 18 C 19 17.449219 18.550781 17 18 17 Z M 18 21 C 17.449219 21 17 21.449219 17 22 C 17 22.550781 17.449219 23 18 23 C 18.550781 23 19 22.550781 19 22 C 19 21.449219 18.550781 21 18 21 Z M 18 25 C 17.449219 25 17 25.449219 17 26 C 17 26.550781 17.449219 27 18 27 C 18.550781 27 19 26.550781 19 26 C 19 25.449219 18.550781 25 18 25 Z M 18 29 C 17.449219 29 17 29.449219 17 30 C 17 30.550781 17.449219 31 18 31 C 18.550781 31 19 30.550781 19 30 C 19 29.449219 18.550781 29 18 29 Z M 18 33 C 17.449219 33 17 33.449219 17 34 C 17 34.550781 17.449219 35 18 35 C 18.550781 35 19 34.550781 19 34 C 19 33.449219 18.550781 33 18 33 Z M 18 37 C 17.449219 37 17 37.449219 17 38 C 17 38.550781 17.449219 39 18 39 C 18.550781 39 19 38.550781 19 38 C 19 37.449219 18.550781 37 18 37 Z M 18 41 C 17.449219 41 17 41.449219 17 42 C 17 42.550781 17.449219 43 18 43 C 18.550781 43 19 42.550781 19 42 C 19 41.449219 18.550781 41 18 41 Z M 18 45 C 17.449219 45 17 45.449219 17 46 C 17 46.550781 17.449219 47 18 47 C 18.550781 47 19 46.550781 19 46 C 19 45.449219 18.550781 45 18 45 Z M 18 49 C 17.449219 49 17 49.449219 17 50 C 17 50.550781 17.449219 51 18 51 C 18.550781 51 19 50.550781 19 50 C 19 49.449219 18.550781 49 18 49 Z M 18 53 C 17.449219 53 17 53.449219 17 54 C 17 54.550781 17.449219 55 18 55 C 18.550781 55 19 54.550781 19 54 C 19 53.449219 18.550781 53 18 53 Z M 18 57 C 17.449219 57 17 57.449219 17 58 C 17 58.550781 17.449219 59 18 59 C 18.550781 59 19 58.550781 19 58 C 19 57.449219 18.550781 57 18 57 Z M 18 61 C 17.449219 61 17 61.449219 17 62 C 17 62.550781 17.449219 63 18 63 C 18.550781 63 19 62.550781 19 62 C 19 61.449219 18.550781 61 18 61 Z "></path>
                </g>
            </svg>
        </button>
    </li>
</template>

<script>
import connect from 'connect'
import serveStatic from 'serve-static'
import server from '../../server'

export default {
  name: 'server-listing',
  data() {
    return {
      name: 'Static server',
      baseDir: '~/',
      app: server.setup(this.baseDir)
    }
  },
  props: ['port'],
  methods: {
    start() {
      this.app = connect()

      this.app.use(serveStatic(this.baseDir, { 'index': ['index.html'] }))
      this.app.listen(3000)
    },
    stop() {
      this.app()
    }
  }
}
</script>

<style>
    .server-info {
        list-style: none;
        border: 3px solid;
        padding: 0.5em;
        margin-bottom: 1em;

    }
    .server-info button {
        min-width: 40px;
        margin-right: 15px;
        background-color: transparent;
        border: none;
    }

    .server-info svg {
        fill: var(--code-color);
    }
</style>
